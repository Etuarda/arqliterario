<%= form_with(model: book, id: "real-book-form") do |form| %>
  <% if book.errors.any? %>
    <div class="error-messages">
      <h2><%= pluralize(book.errors.count, "erro") %> impediram o salvamento:</h2>
      <ul>
        <% book.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="registration-box detail-box">
    <h3 class="form-subheading">Detalhes da Edição</h3>

    <div class="form-group">
      <%= form.label :title, "Título", class: "input-label" %>
      <%= form.text_field :title, class: "vintage-input", placeholder: "Ex: O Hobbit" %>
    </div>

    <div class="form-group">
      <%= form.label :author, "Autor", class: "input-label" %>
      <%= form.text_field :author, class: "vintage-input", placeholder: "Ex: J. R. R. Tolkien" %>
    </div>

    <div class="form-group">
      <%= form.label :published_year, "Ano de publicação", class: "input-label" %>
      <%= form.number_field :published_year, class: "vintage-input", placeholder: "Ex: 1937" %>
    </div>

    <div class="form-group">
      <%= form.label :isbn, "ISBN", class: "input-label" %>
      <%= form.text_field :isbn, class: "vintage-input", placeholder: "Opcional" %>
    </div>

    <div class="form-group">
      <%= form.label :image_url, "Capa (URL)", class: "input-label" %>
      <%= form.url_field :image_url, class: "vintage-input", placeholder: "Opcional" %>
    </div>

    <div class="form-group">
      <%= form.label :status, "Status", class: "input-label" %>
      <%= form.select :status, Book.statuses.keys.map { |s| [s.humanize, s] }, { include_blank: "Selecione..." }, class: "vintage-input" %>

    </div>

    <div class="actions">
      <%= form.submit (book.persisted? ? "Atualizar" : "Guardar"), class: "vintage-button" %>
    </div>
  </div>
<% end %>
